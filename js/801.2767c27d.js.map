{"version":3,"file":"js/801.2767c27d.js","mappings":"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","sources":["webpack://vue3-week6/./node_modules/mitt/dist/mitt.mjs","webpack://vue3-week6/./src/libs/emitter.js","webpack://vue3-week6/./src/views/ProductView.vue","webpack://vue3-week6/./src/views/ProductView.vue?f743"],"sourcesContent":["export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","// 使用 mitt 需先執行\nimport mitt from 'mitt';\n\nconst emitter = mitt();\nexport default emitter;\n","<template>\n  <div class=\"container\">\n    <div class=\"mt-4\">\n      <VLoading :active=\"isLoading\"></VLoading>\n      <h2 class=\"text-center\">單一產品</h2>\n      <table class=\"table align-middle\">\n        <thead>\n          <tr>\n            <th>圖片</th>\n            <th>商品名稱</th>\n            <th>價格</th>\n            <th></th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td style=\"width: 200px\">\n              <img :src=\"product.imageUrl\" alt=\"產品圖片\">\n            </td>\n            <td>\n              {{ product.title }}\n            </td>\n            <td>\n              <div class=\"h5\" v-if=\"product.price === product.origin_price\">\n                {{ product.price }} 元\n              </div>\n              <div v-else>\n                <del class=\"h6\">原價 {{ product.origin_price }} 元</del>\n                <div class=\"h5\">現在只要 {{ product.price }} 元</div>\n              </div>\n            </td>\n            <td>\n              <div class=\"btn-group btn-group-sm\">\n                <button\n                  type=\"button\"\n                  class=\"btn btn-danger\"\n                  @click=\"addToCart(product.id)\"\n                  :disabled=\"isLoadingItem === product.id || !product.is_enabled\"\n                >\n                  加到購物車\n                </button>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Swal from 'sweetalert2';\nimport emitter from '@/libs/emitter';\n\nexport default {\n  data() {\n    return {\n      product: [],\n      isLoadingItem: '',\n      isLoading: false,\n    };\n  },\n  methods: {\n    // 取得產品資料\n    getProduct() {\n      this.isLoading = true;\n      const { id } = this.$route.params; // 解構式取出 id\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/product/${id}`;\n      this.$http\n        .get(url)\n        .then((res) => {\n          this.product = res.data.product;\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          console.log(err.data.message);\n        });\n    },\n    // 加入購物車，當 qty 沒有傳入值時，預設為1\n    addToCart(id, qty = 1) {\n      const data = {\n        product_id: id,\n        qty,\n      };\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`;\n      this.isLoadingItem = id;\n      this.$http\n        .post(url, { data })\n        .then(() => {\n          Swal.fire({\n            position: 'center',\n            icon: 'success',\n            title: '已加入購物車',\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          this.isLoadingItem = '';\n          emitter.emit('get-cart');\n        })\n        .catch((err) => {\n          console.log(err.data.message);\n        });\n    },\n  },\n  mounted() {\n    this.getProduct();\n  },\n};\n</script>\n\n<style lang=\"scss\">\nimg {\n  width: 100%;\n  height: 100px;\n  object-fit: cover;\n}\n</style>\n","import { render } from \"./ProductView.vue?vue&type=template&id=a3c4a410\"\nimport script from \"./ProductView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductView.vue?vue&type=script&lang=js\"\n\nimport \"./ProductView.vue?vue&type=style&index=0&id=a3c4a410&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\2022-Vue3直播班\\\\vue3-week6\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["n","all","Map","on","t","e","i","get","push","set","off","splice","indexOf","emit","slice","map","emitter","mitt","class","_createElementVNode","style","_createElementBlock","_createVNode","_component_VLoading","active","$data","_hoisted_3","_hoisted_5","src","imageUrl","alt","_toDisplayString","title","price","origin_price","_hoisted_9","type","onClick","$options","id","disabled","is_enabled","_hoisted_13","data","product","isLoadingItem","isLoading","methods","getProduct","this","$route","params","url","$http","then","res","catch","err","console","log","message","addToCart","qty","product_id","post","Swal","position","icon","showConfirmButton","timer","mounted","__exports__","render"],"sourceRoot":""}