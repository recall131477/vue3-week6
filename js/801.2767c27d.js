"use strict";(self["webpackChunkvue3_week6"]=self["webpackChunkvue3_week6"]||[]).push([[801],{1530:function(t,i,e){function n(t){return{all:t=t||new Map,on:function(i,e){var n=t.get(i);n?n.push(e):t.set(i,[e])},off:function(i,e){var n=t.get(i);n&&(e?n.splice(n.indexOf(e)>>>0,1):t.set(i,[]))},emit:function(i,e){var n=t.get(i);n&&n.slice().map((function(t){t(e)})),(n=t.get("*"))&&n.slice().map((function(t){t(i,e)}))}}}e.d(i,{Z:function(){return s}});const o=n();var s=o},9801:function(t,i,e){e.r(i),e.d(i,{default:function(){return x}});var n=e(6252),o=e(3577);const s={class:"container"},c={class:"mt-4"},a=(0,n._)("h2",{class:"text-center"},"單一產品",-1),r={class:"table align-middle"},d=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"圖片"),(0,n._)("th",null,"商品名稱"),(0,n._)("th",null,"價格"),(0,n._)("th")])],-1),u={style:{width:"200px"}},l=["src"],p={key:0,class:"h5"},h={key:1},g={class:"h6"},_={class:"h5"},m={class:"btn-group btn-group-sm"},v=["disabled"];function f(t,i,e,f,b,w){const k=(0,n.up)("VLoading");return(0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("div",c,[(0,n.Wm)(k,{active:b.isLoading},null,8,["active"]),a,(0,n._)("table",r,[d,(0,n._)("tbody",null,[(0,n._)("tr",null,[(0,n._)("td",u,[(0,n._)("img",{src:b.product.imageUrl,alt:"產品圖片"},null,8,l)]),(0,n._)("td",null,(0,o.zw)(b.product.title),1),(0,n._)("td",null,[b.product.price===b.product.origin_price?((0,n.wg)(),(0,n.iD)("div",p,(0,o.zw)(b.product.price)+" 元 ",1)):((0,n.wg)(),(0,n.iD)("div",h,[(0,n._)("del",g,"原價 "+(0,o.zw)(b.product.origin_price)+" 元",1),(0,n._)("div",_,"現在只要 "+(0,o.zw)(b.product.price)+" 元",1)]))]),(0,n._)("td",null,[(0,n._)("div",m,[(0,n._)("button",{type:"button",class:"btn btn-danger",onClick:i[0]||(i[0]=t=>w.addToCart(b.product.id)),disabled:b.isLoadingItem===b.product.id||!b.product.is_enabled}," 加到購物車 ",8,v)])])])])])])])}var b=e(6455),w=e.n(b),k=e(1530),L={data(){return{product:[],isLoadingItem:"",isLoading:!1}},methods:{getProduct(){this.isLoading=!0;const{id:t}=this.$route.params,i=`https://vue3-course-api.hexschool.io/v2/api/rousong/product/${t}`;this.$http.get(i).then((t=>{this.product=t.data.product,this.isLoading=!1})).catch((t=>{console.log(t.data.message)}))},addToCart(t,i=1){const e={product_id:t,qty:i},n="https://vue3-course-api.hexschool.io/v2/api/rousong/cart";this.isLoadingItem=t,this.$http.post(n,{data:e}).then((()=>{w().fire({position:"center",icon:"success",title:"已加入購物車",showConfirmButton:!1,timer:1500}),this.isLoadingItem="",k.Z.emit("get-cart")})).catch((t=>{console.log(t.data.message)}))}},mounted(){this.getProduct()}},y=e(3744);const C=(0,y.Z)(L,[["render",f]]);var x=C}}]);
//# sourceMappingURL=801.2767c27d.js.map